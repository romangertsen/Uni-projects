# Анализ временного ряда акций Procter & Gamble (ARIMA)

Проект посвящён анализу финансового временного ряда и построению модели ARIMA
для прогнозирования доходностей акций компании Procter & Gamble (PG).

Работа выполнена в R и включает полный цикл анализа временных рядов:
EDA, проверку стационарности, подбор модели ARIMA, диагностику остатков,
оценку прогноза и генерацию синтетического ряда.

---

## Описание проекта

В работе используется временной ряд недельных цен закрытия акций Procter & Gamble,
полученный из Yahoo Finance за период:

**30 ноября 2020 — 24 ноября 2025**  
Размер выборки: **261 наблюдение**  

Цель проекта — изучить свойства финансового временного ряда,
построить ARIMA-модель и оценить её прогнозные возможности.

---

## Используемые методы

В проекте применяются стандартные методы анализа временных рядов:

- визуальный анализ временного ряда
- ACF и PACF
- логарифмирование и дифференцирование
- ADF-тест
- KPSS-тест
- подбор ARIMA по AIC и BIC
- диагностика остатков
- тест Льюнга–Бокса
- out-of-sample прогноз
- генерация синтетического временного ряда

---

## Подготовка данных

Исходный ряд цен оказался **нестационарным**:
- наблюдается восходящий тренд
- ACF убывает медленно  

Для  получение стационарности выполнено:
- логарифмирование цен
- первая разность логарифмов

После преобразования:
- ADF отвергает единичный корень
- KPSS подтверждает стационарность 

---

## Подбор модели

Перебор моделей ARIMA(p,0,q), p,q ≤ 5 показал:

| Критерий | Лучшая модель |
|----------|---------------|
| AIC | ARIMA(2,0,2) |
| BIC | ARIMA(0,0,0) |

Для прогнозирования выбрана модель:

**ARIMA(2,0,2)** 

auto.arima выбрал ARIMA(0,0,0), что согласуется с гипотезой
о близости доходностей к белому шуму.

---

## Диагностика модели

Проверка остатков показала:

- автокорреляция отсутствует
- остатки похожи на белый шум
- тест Льюнга–Бокса: p-value > 0.05  

Это означает, что модель адекватно описывает структуру ряда.

---

## Прогноз

Последние **20 наблюдений** использованы как тестовая выборка.

Результаты прогноза:

| Метрика | Значение |
|--------|----------|
| RMSE | ≈ 0.023 |
| MAE | ≈ 0.016 |

Ошибка составляет около **30–40% амплитуды колебаний ряда** 
Модель хорошо воспроизводит общую динамику,
но не предсказывает резкие изменения.

---

## Синтетический временной ряд

На основе оценённых параметров ARIMA(2,0,2)
сгенерирован искусственный временной ряд.

Повторный анализ показал:

- ADF подтверждает стационарность
- лучшая модель снова ARIMA(2,0,2)
- структура процесса успешно восстановлена  
Сравнение ошибок:

| Данные | MAE | RMSE |
|-------|-----|------|
| Реальные | 0.0162 | 0.0196 |
| Синтетические | 0.0184 | 0.0228 |

---

## Основные выводы

1. Доходности акций PG близки к белому шуму.
2. Возможности точного прогнозирования ограничены.
3. ARIMA хорошо описывает динамику, но слабо прогнозирует.
4. На синтетическом ряде структура модели успешно восстанавливается.
5. Модель ARIMA(2,0,2) адекватно описывает процесс. 
---


## Технологии

- R
- forecast
- tseries
- ggplot2
- stats

---